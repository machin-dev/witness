<!DOCTYPE html>
<html>

<head>
  <title>Witness</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="static/css/style.css">
  <link rel="stylesheet" href="static/css/splash.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.js"></script>
</head>

<script>
    let name     = ''
    let version  = 'v1.0.0';
    let txtColor = '#FFFFFF';
    let bkgColor = '#EEEEEE';
    let cirColor = '#66D3E4';
    let triColor = '#3DC1D9';
    let growRate = 1;
    let eyeImg;

    function preload() {
        eyeImg = loadImage('static/eye.png');
    }

    function setup() {
        var div = document.getElementById('splash');
        var canvas = createCanvas(div.offsetWidth, div.offsetHeight);
        canvas.parent('splash');
        background(bkgColor);
        noStroke();
        smooth();
    }

    function draw() {
        // Circle
        fill(cirColor);
        circle(width / 2, 0, frameCount * growRate * 1.2);
        // Triangle
        fill(triColor);
        var offsetY = height - (frameCount * growRate);
        if (offsetY < -height) { offsetY = -height }
        triangle(width / 2, offsetY + (height / 4), 0, height + offsetY, width, height + offsetY);
        rect(0, height + offsetY, width, 2 * height + offsetY);
        // Eye
        var size = width * 0.5;
        image(eyeImg, (width - size) / 2, (height - size) / 2, size, size);
        // Version
        fill(txtColor);
        textAlign(LEFT, BOTTOM);
        text(name, 8, 8, width - 16, height - 16);
        textAlign(RIGHT, BOTTOM);
        text(version, 8, 8, width - 16, height - 16);
        // Grow
        growRate += 0.02;
    }
</script>

<body>
    <div id="splash"></div>
</body>

</html>